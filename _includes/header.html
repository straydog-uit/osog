<header class="sticky-header">

  <div class="wrapper">
    {%- assign default_paths = site.pages | map: "path" -%}
    {%- assign page_paths = site.header_pages | default: default_paths -%}

    <div>
      <a class="home-btn" rel="author" href="{{"/" | relative_url }}"><i class="fa-solid fa-house"></i></a>
    </div>

    <div class="container1">
      <div class="anim1"><i class="quark424242ff"></i></div>
      <a class="user-btn" href="/login/">
        <i class="fa-solid fa-user"></i>
      </a>
    </div>

    {%- include search-box.html -%}

  </div>

</header>

<script>
  fetch('/api/auth_status.php', {credentials: 'include'})
    .then(r => r.json())
    .then(d => {
      const btn = document.querySelector('.user-btn');
      if (!btn) return;

      if (d.logged_in) {
        btn.innerHTML = '<i class="fa-solid fa-bars"></i>';
        btn.href = '/user/';
        btn.classList.add('logged-in');
      } else {
        btn.innerHTML = '<i class="fa-solid fa-user"></i>';
        btn.href = '/login/';
        btn.classList.remove('logged-in');
      }
    })
    .catch(() => { });
</script>